{% extends 'base.html' %}
{% block content %}
<!-- Appointments Section -->
<div class="card shadow-sm border-0 mb-4">
  <div class="card-body">
    <h5 class="fw-bold mb-3">Appointments</h5>

    {% if object_list %}
<div id="list-object" class="list-group">
  {% for appointment in object_list %}
  <div
    class="list-group-item d-flex justify-content-between align-items-center border-0 p-3 mb-2 shadow-sm rounded-3">

    <!-- Left side: Name + Phone -->
    <div>
      <h6 class="mb-1 fw-bold">{{ appointment.name }}</h6>
      <small class="text-muted">ðŸ“ž {{ appointment.phone_number }}</small>
    </div>

    <!-- Right side: Big Date -->
    <div class="text-center flex-grow-1">
      <div class="bg-light p-3 rounded-3 shadow-sm border border-primary">
        <span class="d-block fs-6 text-secondary">Appointment Date</span>
        <span class="d-block fs-4 fw-bold text-primary">
          {% if appointment.appointment %}
          ðŸ—“ {{ appointment.appointment|date:"M d, Y H:i" }}
          {% else %}
          The doctor hasnâ€™t set the appointment yet.
          {% endif %}
        </span>
      </div>
    </div>

    <!-- Status -->
    <div class="ms-3">
      {% if appointment.is_approved %}
      <span class="badge bg-success d-flex align-items-center p-2 rounded-3 shadow-sm">
        <i class="bi bi-check-circle-fill me-2"></i> Approved
      </span>
      {% else %}
      <span class="badge bg-warning text-dark d-flex align-items-center p-2 rounded-3 shadow-sm">
        <i class="bi bi-hourglass-split me-2"></i> Pending Approval
      </span>
      {% endif %}
    </div>

  </div>
  {% endfor %}
  <div id="load-more" class="text-center py-3">
  {% if page_obj.has_next %}
    <a id="next-link" href="?page={{ page_obj.next_page_number }}">Load more</a>
  {% else %}
    <p class="text-muted">No more results</p>
  {% endif %}
</div>
</div>
    {% else %}
    <div class="text-center py-5">
      <div class="text-muted mb-3">
        <i class="bi bi-calendar-x display-4"></i>
      </div>
      <p class="mb-0 text-muted">No appointments yet.</p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}